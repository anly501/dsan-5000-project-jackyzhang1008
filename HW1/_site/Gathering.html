<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DSAN 5000 Final Project - Gathering</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Gathering.html">Gathering</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">DSAN 5000 Final Project</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About Me</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Gathering.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Gathering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cleaning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Exploration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploration</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Naïve_Bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Naïve Bayes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Decision_tree.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision Tree</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Reduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ARM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ARM</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Conclusion</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#nuclear-energy-utilization-factor" id="toc-nuclear-energy-utilization-factor" class="nav-link active" data-scroll-target="#nuclear-energy-utilization-factor"><strong>Nuclear Energy Utilization Factor</strong></a>
  <ul class="collapse">
  <li><a href="#description-of-the-data" id="toc-description-of-the-data" class="nav-link" data-scroll-target="#description-of-the-data">Description of the data</a></li>
  <li><a href="#use-excel-to-get-the-data" id="toc-use-excel-to-get-the-data" class="nav-link" data-scroll-target="#use-excel-to-get-the-data">Use excel to get the data</a></li>
  </ul></li>
  <li><a href="#consumption-of-fuels-for-electricity-generation-and-useful-thermal-outputnuclear" id="toc-consumption-of-fuels-for-electricity-generation-and-useful-thermal-outputnuclear" class="nav-link" data-scroll-target="#consumption-of-fuels-for-electricity-generation-and-useful-thermal-outputnuclear"><strong>Consumption of Fuels for Electricity Generation and Useful Thermal Output(Nuclear)</strong></a>
  <ul class="collapse">
  <li><a href="#description-of-the-data-1" id="toc-description-of-the-data-1" class="nav-link" data-scroll-target="#description-of-the-data-1">Description of the data</a></li>
  <li><a href="#use-python-api-to-get-the-data" id="toc-use-python-api-to-get-the-data" class="nav-link" data-scroll-target="#use-python-api-to-get-the-data">Use python API to get the data</a></li>
  </ul></li>
  <li><a href="#consumption-of-fuels-for-electricity-generation-and-useful-thermal-outputcoal" id="toc-consumption-of-fuels-for-electricity-generation-and-useful-thermal-outputcoal" class="nav-link" data-scroll-target="#consumption-of-fuels-for-electricity-generation-and-useful-thermal-outputcoal"><strong>Consumption of Fuels for Electricity Generation and Useful Thermal Output(Coal)</strong></a>
  <ul class="collapse">
  <li><a href="#description-of-the-data-2" id="toc-description-of-the-data-2" class="nav-link" data-scroll-target="#description-of-the-data-2">Description of the data</a></li>
  <li><a href="#use-r-api-to-get-the-data" id="toc-use-r-api-to-get-the-data" class="nav-link" data-scroll-target="#use-r-api-to-get-the-data">Use r API to get the data</a></li>
  </ul></li>
  <li><a href="#radnet" id="toc-radnet" class="nav-link" data-scroll-target="#radnet"><strong>RadNet</strong></a>
  <ul class="collapse">
  <li><a href="#about-the-data" id="toc-about-the-data" class="nav-link" data-scroll-target="#about-the-data"><strong>About the Data</strong></a></li>
  <li><a href="#near-real-time-air-monitoring" id="toc-near-real-time-air-monitoring" class="nav-link" data-scroll-target="#near-real-time-air-monitoring"><strong>Near-Real-Time Air Monitoring</strong></a></li>
  <li><a href="#sampling" id="toc-sampling" class="nav-link" data-scroll-target="#sampling"><strong>Sampling</strong></a>
  <ul class="collapse">
  <li><a href="#air-filters" id="toc-air-filters" class="nav-link" data-scroll-target="#air-filters"><strong>Air Filters</strong></a></li>
  <li><a href="#precipitation" id="toc-precipitation" class="nav-link" data-scroll-target="#precipitation"><strong>Precipitation</strong></a></li>
  <li><a href="#drinking-water" id="toc-drinking-water" class="nav-link" data-scroll-target="#drinking-water"><strong>Drinking Water</strong></a></li>
  </ul></li>
  <li><a href="#description-of-the-data-3" id="toc-description-of-the-data-3" class="nav-link" data-scroll-target="#description-of-the-data-3">Description of the data</a></li>
  <li><a href="#get-the-data-from-csv" id="toc-get-the-data-from-csv" class="nav-link" data-scroll-target="#get-the-data-from-csv">Get the Data from CSV</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Gathering</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="nuclear-energy-utilization-factor" class="level1">
<h1><strong>Nuclear Energy Utilization Factor</strong></h1>
<section id="description-of-the-data" class="level2">
<h2 class="anchored" data-anchor-id="description-of-the-data">Description of the data</h2>
<p>There are 9 .xlsx file that shows the nuclear energy utilization for power plants in from 2013 to 2022. Within each table there are 20 columns.</p>
<p>State: US State</p>
<p>Plant ID: unique ID for a Nuclear power plant</p>
<p>Plant Name: Nuclear power plant name</p>
<p>Unit: reactor unit number</p>
<p>January - December: generating of electricity in Megawatthours</p>
<p>Year_to_Date: generating of electricity in Megawatthours in the entire year</p>
<p>Nameplate:</p>
<p>Summer:</p>
<p>Utilization Factor: Summer/Nameplate, this shows how much of the power generated are been used</p>
<p><a href="https://www.eia.gov/nuclear/generation/index.html">Data website</a></p>
</section>
<section id="use-excel-to-get-the-data" class="level2">
<h2 class="anchored" data-anchor-id="use-excel-to-get-the-data">Use excel to get the data</h2>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># From https://www.eia.gov/nuclear/generation/index.html</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#pd read xlsx</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>usreact13 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact13.xlsx'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>usreact14 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact14.xlsx'</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>usreact15 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact15.xlsx'</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>usreact16 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact16.xlsx'</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>usreact17 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact17.xlsx'</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>usreact18 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact18.xlsx'</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>usreact19 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact19.xlsx'</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>usreact20 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact20.xlsx'</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>usreact21 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact21.xlsx'</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>usreact22 <span class="op">=</span> pd.read_excel(<span class="st">'../Data/Pre-Clean/Nuclear_Generation/usreact22.xlsx'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="citation" data-cites="u.s.nuc">(<a href="#ref-u.s.nuc" role="doc-biblioref"><span>“U.s. Nuclear Generation of Electricity,”</span> n.d.</a>)</span></p>
</section>
</section>
<section id="consumption-of-fuels-for-electricity-generation-and-useful-thermal-outputnuclear" class="level1">
<h1><strong>Consumption of Fuels for Electricity Generation and Useful Thermal Output(Nuclear)</strong></h1>
<section id="description-of-the-data-1" class="level2">
<h2 class="anchored" data-anchor-id="description-of-the-data-1">Description of the data</h2>
<p>period: years 2013-2022</p>
<p>location: US state, US</p>
<p>stateDescription: description of the location</p>
<p>sectorid: unique ID for planet</p>
<p>sectorDescription: planet name</p>
<p>fueltypeid: all nuclear</p>
<p>fuelTypeDescription: all nuclear</p>
<p>consumption-for-eg-btu: fuel usage</p>
<p>consumption-for-eg-btu-units: units in million MMBtu</p>
<p>total-consumption-btu: total fuel usage</p>
<p>total-consumption-btu-units: units in million MMBtu</p>
<p><a href="https://www.eia.gov/opendata/browser/electricity/electric-power-operational-data?frequency=annual&amp;data=consumption-for-eg-btu;total-consumption-btu;&amp;facets=fueltypeid;&amp;fueltypeid=NUC;&amp;start=2013&amp;end=2022&amp;sortColumn=period;&amp;sortDirection=desc;">Data website</a></p>
</section>
<section id="use-python-api-to-get-the-data" class="level2">
<h2 class="anchored" data-anchor-id="use-python-api-to-get-the-data">Use python API to get the data</h2>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.eia.gov/opendata/browser/electricity/electric-power-operational-data?frequency=annual&amp;data=consumption-for-eg-btu;total-consumption-btu;&amp;facets=fueltypeid;&amp;fueltypeid=NUC;&amp;start=2013&amp;end=2022&amp;sortColumn=period;&amp;sortDirection=desc;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># API_Key = "Bc2HtlspmpvpzuBbPfIi8HoancNTzVYN9YApx3fu"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>thor_url <span class="op">=</span> <span class="st">"https://api.eia.gov/v2/electricity/electric-power-operational-data/data/?frequency=annual&amp;data[0]=consumption-for-eg-btu&amp;data[1]=total-consumption-btu&amp;facets[fueltypeid][]=NUC&amp;start=2013&amp;end=2022&amp;sort[0][column]=period&amp;sort[0][direction]=desc&amp;offset=0&amp;length=5000&amp;api_key=Bc2HtlspmpvpzuBbPfIi8HoancNTzVYN9YApx3fu"</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>resp <span class="op">=</span> requests.get(thor_url)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> resp.text</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> json.loads(data)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>details<span class="op">=</span>data[<span class="st">'response'</span>][<span class="st">'data'</span>]</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>rows<span class="op">=</span>[]</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> chunk <span class="kw">in</span> details:</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    row<span class="op">=</span>[]</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key,value <span class="kw">in</span> chunk.items():</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        value<span class="op">=</span>value <span class="cf">if</span> value <span class="cf">else</span> np.nan</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        row.append(value)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># print('row',row)</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    rows.append(row)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Columns</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [<span class="st">'period'</span>, <span class="st">'location'</span>, <span class="st">'stateDescription'</span>, <span class="st">'sectorid'</span>, <span class="st">'sectorDescription'</span>, <span class="st">'fueltypeid'</span>, <span class="st">'fuelTypeDescription'</span>, <span class="st">'consumption-for-eg-btu'</span>, <span class="st">'consumption-for-eg-btu-units'</span>, <span class="st">'total-consumption-btu'</span>, <span class="st">'total-consumption-btu-units'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="citation" data-cites="opendata">(<a href="#ref-opendata" role="doc-biblioref"><span>“Opendata - u.s. Energy Information Administration (EIA),”</span> n.d.</a>)</span></p>
</section>
</section>
<section id="consumption-of-fuels-for-electricity-generation-and-useful-thermal-outputcoal" class="level1">
<h1><strong>Consumption of Fuels for Electricity Generation and Useful Thermal Output(Coal)</strong></h1>
<section id="description-of-the-data-2" class="level2">
<h2 class="anchored" data-anchor-id="description-of-the-data-2">Description of the data</h2>
<p>period: years 2013-2022</p>
<p>location: US state, US</p>
<p>stateDescription: description of the location</p>
<p>sectorid: unique ID for planet</p>
<p>sectorDescription: planet name</p>
<p>fueltypeid: all coal</p>
<p>fuelTypeDescription: all coal</p>
<p>consumption-for-eg-btu: fuel usage</p>
<p>consumption-for-eg-btu-units: units in million MMBtu</p>
<p>total-consumption-btu: total fuel usage</p>
<p>total-consumption-btu-units: units in million MMBtu</p>
<p><a href="https://www.eia.gov/opendata/browser/electricity/electric-power-operational-data?frequency=annual&amp;data=consumption-for-eg-btu;total-consumption-btu;&amp;facets=fueltypeid;&amp;fueltypeid=COW;&amp;start=2013&amp;end=2022&amp;sortColumn=period;&amp;sortDirection=desc;">Data website</a></p>
</section>
<section id="use-r-api-to-get-the-data" class="level2">
<h2 class="anchored" data-anchor-id="use-r-api-to-get-the-data">Use r API to get the data</h2>
<pre class="{txt}"><code># https://www.eia.gov/opendata/browser/electricity/electric-power-operational-data?frequency=annual&amp;data=consumption-for-eg-btu;total-consumption-btu;&amp;facets=fueltypeid;&amp;fueltypeid=COW;&amp;start=2013&amp;end=2022&amp;sortColumn=period;&amp;sortDirection=desc;
library(httr)
library(jsonlite)
library(tidyverse)
res &lt;- GET("https://api.eia.gov/v2/electricity/electric-power-operational-data/data/?frequency=annual&amp;data[0]=consumption-for-eg-btu&amp;data[1]=total-consumption-btu&amp;facets[fueltypeid][]=COW&amp;start=2013&amp;end=2022&amp;sort[0][column]=period&amp;sort[0][direction]=desc&amp;offset=0&amp;length=5000&amp;api_key=Bc2HtlspmpvpzuBbPfIi8HoancNTzVYN9YApx3fu")
data &lt;- fromJSON(rawToChar(res$content))</code></pre>
<p><span class="citation" data-cites="opendata">(<a href="#ref-opendata" role="doc-biblioref"><span>“Opendata - u.s. Energy Information Administration (EIA),”</span> n.d.</a>)</span></p>
</section>
</section>
<section id="radnet" class="level1">
<h1><strong>RadNet</strong></h1>
<section id="about-the-data" class="level2">
<h2 class="anchored" data-anchor-id="about-the-data"><strong>About the Data</strong></h2>
<p>The nationwide RadNet system monitors the nation’s air, precipitation and drinking water to track radiation in the environment. Over time, RadNet sample testing and monitoring results show the fluctuations in normal background levels of environmental radiation. The RadNet system will also detect higher than normal radiation levels during a radiological incident.</p>
<p>RadNet has tracked radiation from both atmospheric nuclear weapons tests and nuclear reactor accidents at Chernobyl (Ukraine) and Fukushima (Japan).&nbsp;During a radiological incident, public officials use RadNet data to help make science-based decisions about protecting the public. Scientists use RadNet air monitoring data to help estimate the potential radiation dose to humans. They use both air and precipitation data to determine if contaminated rain or snow will wash radionuclides into the soil or water. Learn how&nbsp;RadNet was used during and after <a href="https://www.epa.gov/radnet/chornobyl-epas-radiological-monitoring">Chernobyl</a>and&nbsp;<a href="https://www.epa.gov/radnet/fukushima-epas-radiological-monitoring">Fukushima</a>.</p>
</section>
<section id="near-real-time-air-monitoring" class="level2">
<h2 class="anchored" data-anchor-id="near-real-time-air-monitoring"><strong>Near-Real-Time Air Monitoring</strong></h2>
<p>RadNet has 140 stationary air monitors located across all&nbsp;50 states.&nbsp;RadNet stationary monitors run 24 hours a day, 7 days a week, and send near-real-time measurements of gamma radiation to <a href="https://www.epa.gov/aboutepa/about-epas-national-analytical-radiation-environmental-laboratory-narel">EPA’s National Analytical Radiation Environmental Laboratory (NAREL)</a>. Computers continuously review these data. If there is a meaningful increase in radiation levels, laboratory staff are alerted and then&nbsp;investigate the cause.</p>
<p>In an effort to make RadNet radiation data more understandable to the public and easier to compare with international data, EPA is adding exposure rate measurements to our other system capabilities. Exposure rate measurements indicate the level of radiation present per hour in the vicinity of the monitor.&nbsp;</p>
<p><a href="https://www.epa.gov/radnet/radnet-near-real-time-air-data">View gamma radiation monitoring results in near-real-time on the RadNet Dashboard</a>.<br>
<br>
<a href="https://www.epa.gov/radnet/radnet-csv-file-downloads">Download gamma radiation monitoring results in near-real-time as a CSV File</a>.</p>
</section>
<section id="sampling" class="level2">
<h2 class="anchored" data-anchor-id="sampling"><strong>Sampling</strong></h2>
<p>RadNet sample analyses on precipitation, drinking water and air filters are conducted following a routine schedule, unless analysis is accelerated after an emergency event or in response to very low level detection by other international air monitoring agencies. <a href="https://www.epa.gov/radnet/radnet-sampling-and-analyses-schedules">Learn more about RadNet sampling and analyses schedules.</a></p>
<section id="air-filters" class="level3">
<h3 class="anchored" data-anchor-id="air-filters"><strong>Air Filters</strong></h3>
<p>Filters on RadNet air monitors capture particles from the air (airborne particulates). Monitor operators collect the filters and send them to <a href="https://www.epa.gov/aboutepa/about-epas-national-analytical-radiation-environmental-laboratory-narel">EPA’s National Analytical Radiation Environmental Laboratory (NAREL)</a> for testing. Staff use these test results to calculate the concentration of radionuclides on the filters and find trends in airborne radiation. Detailed laboratory analysis of air filters detects trace amounts of radioactive material that the sensitive near-real-time air monitors can’t detect in real-time. Laboratory analysis identifies the radioactive material and the average concentration on the air filter in the conventional unit of curies (Ci) per cubic meter. <a href="https://www.epa.gov/radnet/what-units-does-epa-use-report-laboratory-analysis-results-drinking-water-air-filter-and">Learn more about curies and the international SI unit of becquerel (Bq).</a></p>
<p><img src="images/paste-5.png" class="img-fluid"></p>
<p>RadNet stationary monitors collect air particulates continuously during routine conditions and during radiological incidents. In a radiological emergency, EPA may deploy teams to conduct air monitoring and environmental sampling. <a href="https://www.epa.gov/radtown/radiological-emergency-response-and-preparedness">Learn about EPA’s role in radiological emergency response.</a></p>
<p>A RadNet air filter inquiry may be initiated when there is potential for a release of radioactive materials to the air that could result in the presence of airborne radionuclides at low concentrations, or if low concentrations of radionuclides have been detected in the US or by an international agency. <strong>A RadNet air filter inquiry is not a response to a known radiological emergency</strong>. <a href="https://www.epa.gov/radnet/radnet-air-filter-inquiries">View the RadNet Air Filter Inquiry Log</a>.</p>
<p>RadNet air monitors pass air through a filter which traps particulates. Filters are sent to NAREL for a sensitive screening analysis and, if needed, additional laboratory analyses that identify the radionuclide(s) on the filter.</p>
<p>Monitor operators collect air filters and send them to NAREL for analysis. Laboratory analyses include a&nbsp;gross beta analysis is performed on each air filter, followed by a gamma scan if the beta activity is greater than 1 pCi/m<sup>3</sup>. Each year, a composite sample of the air filters for each monitor is analyzed for gamma emitting radionuclides. Isotopic plutonium (Pu-238, Pu-239/Pu-240) and uranium (U-234, U-235, and U-238) analyses are performed on composite samples from one-fourth of the stations on a four-year rotating schedule. We cannot distinguish between Pu-239 and Pu-240, so we write it as Pu-239/240.</p>
<p><a href="https://www.epa.gov/radnet/radnet-laboratory-data-state">View RadNet air filter results by monitoring station</a>, or <a href="https://enviro.epa.gov/enviro/erams_query_v2.simple_query">search for results on the Envirofacts website.</a></p>
</section>
<section id="precipitation" class="level3">
<h3 class="anchored" data-anchor-id="precipitation"><strong>Precipitation</strong></h3>
<p>EPA scientists routinely test precipitation samples from 26 sites in the U.S. to find trends in radionuclide concentration. The stations submit precipitation samples to NAREL following rainfall, snow or sleet events. Under normal conditions, scientists composite the samples and analyze them monthly. The composite sample is analyzed for gamma-emitting nuclides. Results are reported in picocuries per liter (pCi/L).</p>
<p><a href="https://enviro.epa.gov/enviro/erams_query_v2.simple_query">View RadNet precipitation data on the Envirofacts website.</a></p>
</section>
<section id="drinking-water" class="level3">
<h3 class="anchored" data-anchor-id="drinking-water"><strong>Drinking Water</strong></h3>
<p>EPA’s RadNet program obtains quarterly drinking water samples from 47 sites across the country for laboratory analysis. Every sample is analyzed for tritium (H-3) quarterly. One sample from each station is analyzed for iodine-131 (I-131) once a year.</p>
<p>An annual composite sample from each monitoring station is analyzed for gross alpha and beta radiation. Any sample with elevated gross alpha radiation (2 pCi/L) will be analyzed for radium-226 (Ra-226), plutonium (Pu-238, Pu-239 Pu-240), and uranium (U-234, U-235, and U-238). If the radium-226 result is between 3 and 5 pCi/L, then the sample is analyzed for radium-228 (Ra-228). All of the annual composite samples are also analyzed for gamma-emitting radionuclides. Twenty-five percent (25%) of the annual composite samples from each monitoring station are analyzed for strontium-90 (Sr-90).</p>
<p><a href="https://enviro.epa.gov/enviro/erams_query_v2.simple_query">View RadNet drinking water data on the Envirofacts website.</a></p>
</section>
</section>
<section id="description-of-the-data-3" class="level2">
<h2 class="anchored" data-anchor-id="description-of-the-data-3">Description of the data</h2>
<p>This data set contains 12 columns:</p>
<p>Location Names: Location of different observation point</p>
<p>Sample Collection Time: The time that the sample is collected</p>
<p>Dose Equivalent Rate (nSv/h): Radiation dose in nSv/h</p>
<p>Gamma Count Rate R02 - R09 (CPM): Gamma radiation rate in CPM</p>
<p>Status:</p>
</section>
<section id="get-the-data-from-csv" class="level2">
<h2 class="anchored" data-anchor-id="get-the-data-from-csv">Get the Data from CSV</h2>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the data</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>files_path <span class="op">=</span> <span class="bu">sorted</span>(glob.glob(<span class="st">'../Data/Pre-Clean/rad_net/*.csv'</span>))</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>dfs <span class="op">=</span> []</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="bu">file</span> <span class="kw">in</span> files_path:</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.read_csv(<span class="bu">file</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    dfs.append(df)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>full_df <span class="op">=</span> pd.concat(dfs, ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(full_df.head())</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(full_df.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   LOCATION_NAME SAMPLE COLLECTION TIME  DOSE EQUIVALENT RATE (nSv/h)  \
0  AK: ANCHORAGE    01/01/2023 00:41:00                          33.0   
1  AK: ANCHORAGE    01/01/2023 01:41:00                          32.0   
2  AK: ANCHORAGE    01/01/2023 02:41:00                          31.0   
3  AK: ANCHORAGE    01/01/2023 03:42:00                          32.0   
4  AK: ANCHORAGE    01/01/2023 04:42:00                          31.0   

   GAMMA COUNT RATE R02 (CPM)  GAMMA COUNT RATE R03 (CPM)  \
0                       657.0                       368.0   
1                       651.0                       369.0   
2                       645.0                       366.0   
3                       650.0                       369.0   
4                       647.0                       364.0   

   GAMMA COUNT RATE R04 (CPM)  GAMMA COUNT RATE R05 (CPM)  \
0                       116.0                        75.0   
1                       114.0                        70.0   
2                       112.0                        73.0   
3                       114.0                        71.0   
4                       113.0                        69.0   

   GAMMA COUNT RATE R06 (CPM)  GAMMA COUNT RATE R07 (CPM)  \
0                        41.0                        60.0   
1                        39.0                        61.0   
2                        38.0                        60.0   
3                        41.0                        61.0   
4                        40.0                        59.0   

   GAMMA COUNT RATE R08 (CPM)  GAMMA COUNT RATE R09 (CPM)    STATUS  
0                        71.0                        28.0  APPROVED  
1                        70.0                        27.0  APPROVED  
2                        72.0                        29.0  APPROVED  
3                        69.0                        27.0  APPROVED  
4                        70.0                        27.0  APPROVED  
(875467, 12)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/4f/565zs95x5xb988rb96g8px_40000gn/T/ipykernel_19736/2109943167.py:11: FutureWarning: The behavior of DataFrame concatenation with empty or all-NA entries is deprecated. In a future version, this will no longer exclude empty or all-NA columns when determining the result dtypes. To retain the old behavior, exclude the relevant entries before the concat operation.
  full_df = pd.concat(dfs, ignore_index=True)</code></pre>
</div>
</div>
<p><span class="citation" data-cites="usepa2014">(<a href="#ref-usepa2014" role="doc-biblioref">US EPA 2014</a>)</span></p>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-opendata" class="csl-entry" role="listitem">
<span>“Opendata - u.s. Energy Information Administration (EIA).”</span> n.d. <a href="https://www.eia.gov/opendata/index.php">https://www.eia.gov/opendata/index.php</a>.
</div>
<div id="ref-u.s.nuc" class="csl-entry" role="listitem">
<span>“U.s. Nuclear Generation of Electricity.”</span> n.d. <a href="https://www.eia.gov/nuclear/generation/index.html">https://www.eia.gov/nuclear/generation/index.html</a>.
</div>
<div id="ref-usepa2014" class="csl-entry" role="listitem">
US EPA, OAR. 2014. <span>“RadNet.”</span> <a href="https://www.epa.gov/radnet">https://www.epa.gov/radnet</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>